class MobileNavigation{constructor(){this.isOpen=!1,this.menuToggle=document.querySelector(".menu-toggle"),this.mobileNav=document.querySelector(".mobile-nav"),this.mobileOverlay=document.querySelector(".mobile-nav-overlay"),this.mobileClose=document.querySelector(".mobile-nav-close"),this.premiumNav=document.querySelector(".premium-nav"),this.init()}init(){this.bindEvents(),this.handleScroll(),this.setActiveLink(),this.createMobileNavIfNeeded()}createMobileNavIfNeeded(){this.mobileNav||this.createMobileNavElements()}createMobileNavElements(){const e=document.createElement("div");e.className="mobile-nav-overlay",e.setAttribute("aria-hidden","true"),document.body.appendChild(e);const i=document.createElement("div");i.className="mobile-nav",i.setAttribute("aria-label","Mobile navigation"),i.setAttribute("role","navigation"),i.innerHTML='\n            <div class="mobile-nav-header">\n                <div class="mobile-nav-logo">\n                    <img src="images/optimized/logo.png" alt="The Profit Platform" loading="lazy">\n                </div>\n                <div class="mobile-nav-tagline">Digital Marketing Excellence</div>\n                <button class="mobile-nav-close" aria-label="Close mobile menu" type="button">\n                    <i class="fas fa-times"></i>\n                </button>\n            </div>\n            <nav class="mobile-nav-links" role="list">\n                <a href="index.html" class="mobile-nav-link" role="listitem">\n                    <i class="fas fa-home mobile-nav-icon"></i>\n                    Home\n                </a>\n                <a href="services.html" class="mobile-nav-link" role="listitem">\n                    <i class="fas fa-rocket mobile-nav-icon"></i>\n                    Services\n                </a>\n                <div class="mobile-nav-submenu">\n                    <a href="seo.html" class="mobile-nav-link" role="listitem">\n                        <i class="fas fa-search mobile-nav-icon"></i>\n                        SEO & Local Search\n                    </a>\n                    <a href="web-design.html" class="mobile-nav-link" role="listitem">\n                        <i class="fas fa-paint-brush mobile-nav-icon"></i>\n                        Web Design\n                    </a>\n                    <a href="google-ads.html" class="mobile-nav-link" role="listitem">\n                        <i class="fas fa-bullhorn mobile-nav-icon"></i>\n                        Google & Meta Ads\n                    </a>\n                </div>\n                <a href="pricing.html" class="mobile-nav-link" role="listitem">\n                    <i class="fas fa-dollar-sign mobile-nav-icon"></i>\n                    Pricing\n                </a>\n                <a href="about.html" class="mobile-nav-link" role="listitem">\n                    <i class="fas fa-users mobile-nav-icon"></i>\n                    About\n                </a>\n                <a href="contact.html" class="mobile-nav-link" role="listitem">\n                    <i class="fas fa-envelope mobile-nav-icon"></i>\n                    Contact\n                </a>\n            </nav>\n            <div class="mobile-nav-cta">\n                <a href="contact.html" class="mobile-cta-btn">\n                    <i class="fas fa-comments mobile-cta-icon"></i>\n                    Get Free Consultation\n                </a>\n            </div>\n        ',document.body.appendChild(i),this.mobileNav=i,this.mobileOverlay=e,this.mobileClose=i.querySelector(".mobile-nav-close")}bindEvents(){this.menuToggle&&this.menuToggle.addEventListener("click",(e=>{e.preventDefault(),this.toggleMenu()})),this.mobileClose&&this.mobileClose.addEventListener("click",(e=>{e.preventDefault(),this.closeMenu()})),this.mobileOverlay&&this.mobileOverlay.addEventListener("click",(()=>{this.closeMenu()})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&this.isOpen&&this.closeMenu()})),window.addEventListener("scroll",this.throttle((()=>{this.handleScroll()}),16)),window.addEventListener("resize",this.throttle((()=>{window.innerWidth>968&&this.isOpen&&this.closeMenu()}),250)),this.mobileNav&&this.mobileNav.addEventListener("click",(e=>{e.target.matches(".mobile-nav-link")&&(this.closeMenu(),this.setActiveLink(e.target.href))}))}toggleMenu(){this.isOpen?this.closeMenu():this.openMenu()}openMenu(){this.isOpen=!0,this.menuToggle&&this.menuToggle.classList.add("active"),this.mobileNav&&this.mobileNav.classList.add("active"),this.mobileOverlay&&this.mobileOverlay.classList.add("active"),document.body.style.overflow="hidden",this.trapFocus(),this.mobileNav&&this.mobileNav.setAttribute("aria-hidden","false")}closeMenu(){this.isOpen=!1,this.menuToggle&&this.menuToggle.classList.remove("active"),this.mobileNav&&this.mobileNav.classList.remove("active"),this.mobileOverlay&&this.mobileOverlay.classList.remove("active"),document.body.style.overflow="",this.menuToggle&&this.menuToggle.focus(),this.mobileNav&&this.mobileNav.setAttribute("aria-hidden","true")}handleScroll(){if(!this.premiumNav)return;window.scrollY>50?this.premiumNav.classList.add("scrolled"):this.premiumNav.classList.remove("scrolled")}setActiveLink(e=window.location.href){document.querySelectorAll(".mobile-nav-link").forEach((i=>{i.classList.remove("active"),(i.href===e||e.includes(i.pathname)&&"/"!==i.pathname)&&i.classList.add("active")}))}trapFocus(){if(!this.mobileNav)return;const e=this.mobileNav.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(0===e.length)return;const i=e[0],t=e[e.length-1];i.focus(),this.mobileNav.addEventListener("keydown",(e=>{"Tab"===e.key&&(e.shiftKey?document.activeElement===i&&(e.preventDefault(),t.focus()):document.activeElement===t&&(e.preventDefault(),i.focus()))}))}throttle(e,i){let t;return function(){const n=arguments,l=this;t||(e.apply(l,n),t=!0,setTimeout((()=>t=!1),i))}}}document.addEventListener("DOMContentLoaded",(()=>{new MobileNavigation})),document.addEventListener("visibilitychange",(()=>{if(document.hidden){const e=document.querySelector(".mobile-nav");if(e&&e.classList.contains("active")){(new MobileNavigation).closeMenu()}}})),"undefined"!=typeof module&&module.exports&&(module.exports=MobileNavigation);