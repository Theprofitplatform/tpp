---
// Contact Section Component
---

<!-- CTA Section -->
<section class="cta section animate-on-scroll" id="cta" data-astro-cid-coyjnsii>
  <div class="container" data-astro-cid-coyjnsii>
    <div class="cta-content" data-astro-cid-coyjnsii>
      <h2 class="cta-title" data-astro-cid-coyjnsii>Ready to Dominate Your Market?</h2>
      <p class="cta-subtitle" data-astro-cid-coyjnsii>Join Sydney Businesses Getting Real Results</p>
      <p class="cta-description" data-astro-cid-coyjnsii>Stop losing customers to competitors. Start your journey to digital dominance today with a free strategy consultation.</p>
      <div class="cta-features" data-astro-cid-coyjnsii>
        <span class="cta-feature" data-astro-cid-coyjnsii>✅ No lock-in contracts</span>
        <span class="cta-feature" data-astro-cid-coyjnsii>✅ 100% transparent reporting</span>
        <span class="cta-feature" data-astro-cid-coyjnsii>✅ Proven results in 30 days</span>
        <span class="cta-feature" data-astro-cid-coyjnsii>✅ Local Sydney team</span>
      </div>
      <div class="cta-buttons" data-astro-cid-coyjnsii>
        <a href="#contact" class="btn btn-primary btn-lg" data-astro-cid-coyjnsii>
          Get Your Free $997 Strategy Session →
        </a>
        <a href="tel:+61487286451" class="btn btn-secondary btn-lg" data-astro-cid-coyjnsii>
          Or Call Now: 0487 286 451
        </a>
      </div>
      <p class="cta-urgency" data-astro-cid-coyjnsii>
        <i class="fas fa-fire" data-astro-cid-coyjnsii></i> Only accepting 5 new clients this month
      </p>
    </div>
  </div>
</section>

<!-- Contact Section -->
<section class="contact section animate-on-scroll" id="contact" data-astro-cid-joh4gybl>
  <div class="container" data-astro-cid-joh4gybl>
    <div class="section-header" data-astro-cid-joh4gybl>
      <h2 class="section-title" data-astro-cid-joh4gybl>Let's Start Your Growth Journey</h2>
      <p class="section-subtitle" data-astro-cid-joh4gybl>Get your free consultation and custom growth strategy within 24 hours</p>
    </div>
    <div class="contact-container" data-astro-cid-joh4gybl>
      <!-- Contact Form -->
      <div class="contact-form-wrapper" data-astro-cid-joh4gybl>
        <form id="contactForm" class="contact-form" method="POST" data-astro-cid-joh4gybl>
          <div class="form-row" data-astro-cid-joh4gybl>
            <div class="form-group" data-astro-cid-joh4gybl>
              <label for="name" data-astro-cid-joh4gybl>Your Name *</label>
              <input type="text" id="name" name="name" required placeholder="John Smith" data-astro-cid-joh4gybl>
            </div>
            <div class="form-group" data-astro-cid-joh4gybl>
              <label for="business" data-astro-cid-joh4gybl>Business Name</label>
              <input type="text" id="business" name="business" placeholder="Your Business" data-astro-cid-joh4gybl>
            </div>
          </div>
          <div class="form-row" data-astro-cid-joh4gybl>
            <div class="form-group" data-astro-cid-joh4gybl>
              <label for="email" data-astro-cid-joh4gybl>Email Address *</label>
              <input type="email" id="email" name="email" required placeholder="john@business.com.au" data-astro-cid-joh4gybl>
            </div>
            <div class="form-group" data-astro-cid-joh4gybl>
              <label for="phone" data-astro-cid-joh4gybl>Phone Number *</label>
              <input type="tel" id="phone" name="phone" required placeholder="0400 000 000" data-astro-cid-joh4gybl>
            </div>
          </div>
          <div class="form-group" data-astro-cid-joh4gybl>
            <label for="service" data-astro-cid-joh4gybl>Service Interested In</label>
            <select id="service" name="service" data-astro-cid-joh4gybl>
              <option value="" data-astro-cid-joh4gybl>Select a service</option>
              <option value="seo" data-astro-cid-joh4gybl>Local SEO</option>
              <option value="google-ads" data-astro-cid-joh4gybl>Google Ads</option>
              <option value="web-design" data-astro-cid-joh4gybl>Web Design</option>
              <option value="full-service" data-astro-cid-joh4gybl>Full Service Marketing</option>
            </select>
          </div>
          <div class="form-group" data-astro-cid-joh4gybl>
            <label for="message" data-astro-cid-joh4gybl>Tell us about your goals</label>
            <textarea id="message" name="message" rows="5" placeholder="What are you hoping to achieve with digital marketing?" data-astro-cid-joh4gybl></textarea>
          </div>
          <!-- Honeypot for spam prevention -->
          <div style="position: absolute; left: -9999px;" aria-hidden="true" data-astro-cid-joh4gybl>
            <label for="website" data-astro-cid-joh4gybl>Website</label>
            <input type="text" id="website" name="website" tabindex="-1" autocomplete="off" aria-hidden="true" data-astro-cid-joh4gybl>
          </div>
          <button type="submit" class="btn btn-primary btn-lg btn-block" data-astro-cid-joh4gybl>
            Get My Free Strategy Session →
          </button>
          <p class="form-disclaimer" data-astro-cid-joh4gybl>
            <i class="fas fa-lock" data-astro-cid-joh4gybl></i> Your information is 100% secure and will never be shared
          </p>
        </form>
      </div>
      <!-- Contact Info -->
      <div class="contact-info-wrapper" data-astro-cid-joh4gybl>
        <div class="contact-info-card" data-astro-cid-joh4gybl>
          <h3 data-astro-cid-joh4gybl>Get in Touch</h3>
          <div class="contact-item" data-astro-cid-joh4gybl>
            <i class="fas fa-phone" data-astro-cid-joh4gybl></i>
            <div data-astro-cid-joh4gybl>
              <strong data-astro-cid-joh4gybl>Call Avi Directly:</strong>
              <a href="tel:+61487286451" data-astro-cid-joh4gybl>
                0487 286 451
              </a>
            </div>
          </div>
          <div class="contact-item" data-astro-cid-joh4gybl>
            <i class="fas fa-envelope" data-astro-cid-joh4gybl></i>
            <div data-astro-cid-joh4gybl>
              <strong data-astro-cid-joh4gybl>Email Us:</strong>
              <a href="mailto:avi@theprofitplatform.com.au" data-astro-cid-joh4gybl>
                avi@theprofitplatform.com.au
              </a>
            </div>
          </div>
          <div class="contact-item" data-astro-cid-joh4gybl>
            <i class="fas fa-map-marker-alt" data-astro-cid-joh4gybl></i>
            <div data-astro-cid-joh4gybl>
              <strong data-astro-cid-joh4gybl>Service Area:</strong>
              <span data-astro-cid-joh4gybl>Sydney, NSW</span>
            </div>
          </div>
          <div class="contact-item" data-astro-cid-joh4gybl>
            <i class="fas fa-clock" data-astro-cid-joh4gybl></i>
            <div data-astro-cid-joh4gybl>
              <strong data-astro-cid-joh4gybl>Business Hours:</strong>
              <span data-astro-cid-joh4gybl>Mon-Fri 9am-6pm, Sat 10am-2pm</span>
            </div>
          </div>
          <div class="response-time" data-astro-cid-joh4gybl>
            <i class="fas fa-bolt" data-astro-cid-joh4gybl></i>
            <strong data-astro-cid-joh4gybl>Average Response Time:</strong> 15 minutes during business hours
          </div>
          <div class="social-links" data-astro-cid-joh4gybl>
            <a href="https://www.facebook.com/profile.php?id=61574707582255" target="_blank" rel="noopener noreferrer" aria-label="Facebook" data-astro-cid-joh4gybl>
              <i class="fab fa-facebook" data-astro-cid-joh4gybl></i>
            </a>
            <a href="https://linkedin.com/company/theprofitplatform" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn" data-astro-cid-joh4gybl>
              <i class="fab fa-linkedin" data-astro-cid-joh4gybl></i>
            </a>
            <a href="https://www.instagram.com/theprofitplatformau" target="_blank" rel="noopener noreferrer" aria-label="Instagram" data-astro-cid-joh4gybl>
              <i class="fab fa-instagram" data-astro-cid-joh4gybl></i>
            </a>
          </div>
        </div>
        <div class="contact-benefits" data-astro-cid-joh4gybl>
          <h4 data-astro-cid-joh4gybl>What Happens Next?</h4>
          <ul data-astro-cid-joh4gybl>
            <li data-astro-cid-joh4gybl><i class="fas fa-check" data-astro-cid-joh4gybl></i> Quick 15-minute discovery call</li>
            <li data-astro-cid-joh4gybl><i class="fas fa-check" data-astro-cid-joh4gybl></i> Free audit of your current marketing</li>
            <li data-astro-cid-joh4gybl><i class="fas fa-check" data-astro-cid-joh4gybl></i> Custom growth strategy proposal</li>
            <li data-astro-cid-joh4gybl><i class="fas fa-check" data-astro-cid-joh4gybl></i> No obligation to proceed</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</section>

<script is:inline>
  // Override buggy form handler - run after DOM loaded
  window.addEventListener('DOMContentLoaded', () => {
    const form = document.getElementById('contactForm');
    if (!form) return;

    // Remove all existing event listeners by cloning and replacing
    const newForm = form.cloneNode(true);
    form.parentNode.replaceChild(newForm, form);

    // Add our clean handler
    newForm.addEventListener('submit', async (e) => {
      e.preventDefault();

      const submitBtn = newForm.querySelector('button[type="submit"]');
      const originalText = submitBtn.textContent;

      submitBtn.disabled = true;
      submitBtn.textContent = 'Sending...';

      const formData = new FormData(newForm);
      const data = Object.fromEntries(formData.entries());

      try {
        const response = await fetch('/api/contact', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(data)
        });

        const result = await response.json();

        if (response.ok && result.success) {
          alert("Thank you for your inquiry! We'll contact you within 24 hours.");
          newForm.reset();
        } else {
          alert('Failed to submit: ' + (result.error || 'Please try again'));
        }
      } catch (error) {
        alert('Network error. Please try again or call us directly.');
      } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = originalText;
      }
    });
  });
</script>