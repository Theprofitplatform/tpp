---
/**
 * Blog Post Template
 * SEO-optimized long-form content template with engagement features
 *
 * Components used:
 * - TableOfContents (content navigation)
 * - BeforeAfterSlider (visual comparisons)
 * - CaseStudyCard (embedded success stories)
 * - FAQWithSchema (SEO-optimized Q&A)
 * - VideoTestimonialCard (social proof)
 * - FloatingCTA (conversion optimization)
 *
 * Features:
 * - Auto-generated TOC
 * - Reading time estimate
 * - Social sharing
 * - Related posts
 * - Rich schema markup
 */

import CleanLayout from '../../layouts/CleanLayout.astro';
import TableOfContents from '../../components/ui/TableOfContents.astro';
import BeforeAfterSlider from '../../components/ui/BeforeAfterSlider.astro';
import CaseStudyCard from '../../components/ui/CaseStudyCard.astro';
import FAQWithSchema from '../../components/ui/FAQWithSchema.astro';
import VideoTestimonialCard from '../../components/ui/VideoTestimonialCard.astro';
import FloatingCTA from '../../components/ui/FloatingCTA.astro';

// Post metadata
const post = {
  title: "The Complete Guide to Technical SEO in 2025",
  description: "Master technical SEO with this comprehensive guide. Learn Core Web Vitals, JavaScript SEO, schema markup, and more.",
  author: "Sarah Mitchell",
  authorRole: "Senior SEO Strategist",
  publishDate: "2025-01-15",
  readingTime: "12 min read",
  category: "SEO",
  tags: ["Technical SEO", "Core Web Vitals", "Schema Markup", "SEO Guide"]
};

// Table of contents headings
const tocHeadings = [
  { id: "introduction", text: "Introduction", level: 2 },
  { id: "core-web-vitals", text: "Core Web Vitals Optimization", level: 2 },
  { id: "javascript-seo", text: "JavaScript SEO Best Practices", level: 2 },
  { id: "schema-markup", text: "Advanced Schema Markup", level: 2 },
  { id: "mobile-optimization", text: "Mobile-First Indexing", level: 2 },
  { id: "case-study", text: "Real-World Results", level: 2 },
  { id: "faq", text: "Common Questions", level: 2 },
  { id: "conclusion", text: "Conclusion & Next Steps", level: 2 }
];

// Before/after comparison data
const performanceComparison = {
  beforeImage: "/images/blog/cwv-before.jpg",
  afterImage: "/images/blog/cwv-after.jpg",
  beforeLabel: "Before: LCP 4.2s, CLS 0.18",
  afterLabel: "After: LCP 1.8s, CLS 0.02"
};

// Case study data
const caseStudy = {
  title: "How TechCo Improved Rankings by 847%",
  excerpt: "Complete technical SEO overhaul that resulted in massive organic growth and $2.4M in new revenue.",
  logo: "/images/logos/techco.svg",
  logoAlt: "TechCo",
  metrics: [
    { label: "Organic Traffic", value: "+847%", icon: "üìà" },
    { label: "Page Speed", value: "92/100", icon: "‚ö°" },
    { label: "Keywords Ranked", value: "1,247", icon: "üéØ" }
  ],
  link: "/case-studies/techco-technical-seo",
  industry: "Technology",
  service: "Technical SEO"
};

// Video testimonial
const videoTestimonial = {
  videoUrl: "https://www.youtube.com/embed/dQw4w9WgXcQ",
  thumbnail: "/images/testimonials/john-developer.jpg",
  author: "John Developer",
  role: "CTO, TechCo",
  quote: "Their technical SEO expertise transformed our entire web presence"
};

// FAQ items
const faqItems = [
  {
    question: "What are Core Web Vitals and why do they matter?",
    answer: "Core Web Vitals are Google's metrics for measuring user experience: Largest Contentful Paint (LCP) for loading speed, First Input Delay (FID) for interactivity, and Cumulative Layout Shift (CLS) for visual stability. They directly impact your search rankings and are now a confirmed ranking factor."
  },
  {
    question: "How long does technical SEO take to show results?",
    answer: "Technical SEO improvements can show results quickly - often within 2-4 weeks for indexation and crawl improvements. However, ranking improvements typically take 3-6 months as Google re-crawls and re-evaluates your site. Core Web Vitals improvements often show immediate benefits to user experience and conversion rates."
  },
  {
    question: "Can I do technical SEO myself or do I need an expert?",
    answer: "Basic technical SEO like fixing broken links and optimizing images can be done yourself. However, complex issues like JavaScript rendering, advanced schema markup, and Core Web Vitals optimization often require specialized expertise. A technical SEO audit by an expert can identify issues you might miss."
  },
  {
    question: "What's the difference between technical SEO and on-page SEO?",
    answer: "Technical SEO focuses on website infrastructure: site speed, crawlability, mobile-friendliness, and structured data. On-page SEO deals with content optimization: keywords, meta tags, headers, and internal linking. Both are essential for ranking success, but technical SEO ensures Google can properly crawl and understand your site."
  }
];

const floatingCTAs = [
  {
    label: "Free Audit",
    href: "#cta-form",
    color: "blue" as const,
    icon: "üìä"
  },
  {
    label: "Contact",
    href: "/contact",
    color: "green" as const,
    icon: "üí¨"
  }
];
---

<CleanLayout
  title={post.title}
  description={post.description}
>
  <!-- Blog Post Header -->
  <article class="bg-white">
    <!-- Hero Section -->
    <header class="bg-gradient-to-r from-blue-600 to-indigo-600 py-12 md:py-16">
      <div class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="max-w-4xl mx-auto">
          <!-- Breadcrumb -->
          <nav class="mb-6" aria-label="Breadcrumb">
            <ol class="flex items-center space-x-2 text-sm text-blue-100">
              <li><a href="/" class="hover:text-white">Home</a></li>
              <li>/</li>
              <li><a href="/blog" class="hover:text-white">Blog</a></li>
              <li>/</li>
              <li><a href={`/blog/category/${post.category.toLowerCase()}`} class="hover:text-white">{post.category}</a></li>
            </ol>
          </nav>

          <!-- Category & Reading Time -->
          <div class="flex items-center gap-4 mb-6">
            <span class="px-3 py-1 bg-white/20 text-white rounded-full text-sm font-semibold">
              {post.category}
            </span>
            <span class="text-blue-100">
              {post.readingTime}
            </span>
          </div>

          <!-- Title -->
          <h1 class="text-4xl md:text-5xl font-bold text-white mb-6 leading-tight">
            {post.title}
          </h1>

          <!-- Author & Date -->
          <div class="flex items-center gap-4 text-blue-100">
            <div class="w-12 h-12 bg-white/20 rounded-full flex items-center justify-center text-white font-bold">
              {post.author.charAt(0)}
            </div>
            <div>
              <div class="font-semibold text-white">{post.author}</div>
              <div class="text-sm">{post.authorRole} ‚Ä¢ {new Date(post.publishDate).toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' })}</div>
            </div>
          </div>

          <!-- Social Share Buttons -->
          <div class="flex items-center gap-3 mt-8">
            <span class="text-blue-100 text-sm">Share:</span>
            <a href={`https://twitter.com/intent/tweet?text=${encodeURIComponent(post.title)}&url=${encodeURIComponent('https://seo.theprofitplatform.com.au/templates/blog-post')}`} target="_blank" rel="noopener noreferrer" class="w-10 h-10 bg-white/20 hover:bg-white/30 rounded-full flex items-center justify-center text-white transition-colors" aria-label="Share on Twitter">
              ùïè
            </a>
            <a href={`https://www.linkedin.com/shareArticle?mini=true&url=${encodeURIComponent('https://seo.theprofitplatform.com.au/templates/blog-post')}&title=${encodeURIComponent(post.title)}`} target="_blank" rel="noopener noreferrer" class="w-10 h-10 bg-white/20 hover:bg-white/30 rounded-full flex items-center justify-center text-white transition-colors" aria-label="Share on LinkedIn">
              in
            </a>
            <a href={`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent('https://seo.theprofitplatform.com.au/templates/blog-post')}`} target="_blank" rel="noopener noreferrer" class="w-10 h-10 bg-white/20 hover:bg-white/30 rounded-full flex items-center justify-center text-white transition-colors" aria-label="Share on Facebook">
              f
            </a>
          </div>
        </div>
      </div>
    </header>

    <!-- Content Section with Sidebar -->
    <div class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-16">
      <div class="grid lg:grid-cols-12 gap-12">
        <!-- Sidebar - Table of Contents (Desktop) -->
        <aside class="hidden lg:block lg:col-span-3">
          <div class="sticky top-24">
            <TableOfContents headings={tocHeadings} />
          </div>
        </aside>

        <!-- Main Content -->
        <div class="lg:col-span-9">
          <div class="prose prose-lg max-w-none">
            <!-- Introduction -->
            <section id="introduction">
              <p class="lead text-xl text-gray-700 leading-relaxed mb-6">
                Technical SEO is the foundation of successful search engine optimization. Without proper technical implementation,
                even the best content won't rank. In this comprehensive guide, we'll cover everything you need to know about
                technical SEO in 2025.
              </p>

              <p>
                Whether you're a beginner or experienced SEO professional, this guide will help you master the technical
                aspects that can make or break your search visibility. Let's dive in.
              </p>
            </section>

            <!-- Core Web Vitals -->
            <section id="core-web-vitals" class="mt-12">
              <h2 class="text-3xl font-bold text-gray-900 mb-6">Core Web Vitals Optimization</h2>

              <p>
                Core Web Vitals are now a confirmed ranking factor. Google measures three key metrics:
              </p>

              <ul class="space-y-2 mb-6">
                <li><strong>Largest Contentful Paint (LCP):</strong> Should occur within 2.5 seconds</li>
                <li><strong>First Input Delay (FID):</strong> Should be less than 100 milliseconds</li>
                <li><strong>Cumulative Layout Shift (CLS):</strong> Should be less than 0.1</li>
              </ul>

              <div class="bg-blue-50 border-l-4 border-blue-600 p-6 my-8">
                <h3 class="text-xl font-bold text-gray-900 mb-2">üí° Pro Tip</h3>
                <p class="text-gray-700 mb-0">
                  Use Google's PageSpeed Insights and Chrome DevTools to measure your Core Web Vitals. Focus on
                  real user data (field data) rather than just lab data for accurate insights.
                </p>
              </div>

              <h3 class="text-2xl font-bold text-gray-900 mb-4 mt-8">Before & After: Real Performance Improvements</h3>

              <div class="my-8">
                <BeforeAfterSlider
                  beforeImage={performanceComparison.beforeImage}
                  afterImage={performanceComparison.afterImage}
                  beforeLabel={performanceComparison.beforeLabel}
                  afterLabel={performanceComparison.afterLabel}
                />
              </div>

              <h3 class="text-2xl font-bold text-gray-900 mb-4 mt-8">How to Improve Core Web Vitals</h3>

              <ol class="space-y-3">
                <li><strong>Optimize Images:</strong> Use WebP format, lazy loading, and responsive images</li>
                <li><strong>Minimize JavaScript:</strong> Defer non-critical JS, code-split large bundles</li>
                <li><strong>Use CDN:</strong> Serve assets from geographically distributed servers</li>
                <li><strong>Implement Caching:</strong> Browser caching and server-side caching strategies</li>
                <li><strong>Reduce Server Response Time:</strong> Optimize database queries, use caching layers</li>
              </ol>
            </section>

            <!-- JavaScript SEO -->
            <section id="javascript-seo" class="mt-12">
              <h2 class="text-3xl font-bold text-gray-900 mb-6">JavaScript SEO Best Practices</h2>

              <p>
                Modern websites use JavaScript frameworks like React, Vue, and Angular. While Google can render JavaScript,
                there are important considerations:
              </p>

              <div class="bg-yellow-50 border-l-4 border-yellow-600 p-6 my-8">
                <h3 class="text-xl font-bold text-gray-900 mb-2">‚ö†Ô∏è Common JavaScript SEO Mistakes</h3>
                <ul class="text-gray-700 space-y-2 mb-0">
                  <li>‚Ä¢ Not implementing server-side rendering (SSR) or static generation</li>
                  <li>‚Ä¢ Blocking JavaScript files in robots.txt</li>
                  <li>‚Ä¢ Using infinite scroll without pagination fallback</li>
                  <li>‚Ä¢ Not optimizing JavaScript bundle size</li>
                </ul>
              </div>

              <h3 class="text-2xl font-bold text-gray-900 mb-4 mt-8">Best Practices</h3>

              <ul class="space-y-3">
                <li><strong>Use SSR or SSG:</strong> Pre-render content for search engines</li>
                <li><strong>Implement Dynamic Rendering:</strong> Serve static HTML to bots, JavaScript to users</li>
                <li><strong>Test with Mobile-Friendly Test:</strong> Verify Googlebot can render your pages</li>
                <li><strong>Monitor Rendering Budget:</strong> Keep JavaScript execution time under 5 seconds</li>
              </ul>
            </section>

            <!-- Schema Markup -->
            <section id="schema-markup" class="mt-12">
              <h2 class="text-3xl font-bold text-gray-900 mb-6">Advanced Schema Markup</h2>

              <p>
                Structured data helps search engines understand your content. In 2025, schema markup is more important
                than ever for rich results and featured snippets.
              </p>

              <h3 class="text-2xl font-bold text-gray-900 mb-4 mt-8">Essential Schema Types</h3>

              <div class="grid md:grid-cols-2 gap-6 my-8">
                <div class="border border-gray-200 rounded-lg p-6">
                  <h4 class="text-lg font-bold text-gray-900 mb-2">üìÑ Article Schema</h4>
                  <p class="text-gray-600 text-sm">For blog posts and news articles. Enables rich snippets with author, date, and image.</p>
                </div>
                <div class="border border-gray-200 rounded-lg p-6">
                  <h4 class="text-lg font-bold text-gray-900 mb-2">‚≠ê Review Schema</h4>
                  <p class="text-gray-600 text-sm">Display star ratings in search results to increase CTR.</p>
                </div>
                <div class="border border-gray-200 rounded-lg p-6">
                  <h4 class="text-lg font-bold text-gray-900 mb-2">‚ùì FAQ Schema</h4>
                  <p class="text-gray-600 text-sm">Show expandable Q&A directly in search results.</p>
                </div>
                <div class="border border-gray-200 rounded-lg p-6">
                  <h4 class="text-lg font-bold text-gray-900 mb-2">üé¨ Video Schema</h4>
                  <p class="text-gray-600 text-sm">Enable video carousels and enhanced video results.</p>
                </div>
              </div>
            </section>

            <!-- Mobile Optimization -->
            <section id="mobile-optimization" class="mt-12">
              <h2 class="text-3xl font-bold text-gray-900 mb-6">Mobile-First Indexing</h2>

              <p>
                Google now uses the mobile version of your site for indexing and ranking. Mobile optimization is no longer
                optional - it's critical for SEO success.
              </p>

              <h3 class="text-2xl font-bold text-gray-900 mb-4 mt-8">Mobile SEO Checklist</h3>

              <div class="bg-gray-50 rounded-lg p-6 my-8">
                <ul class="space-y-3">
                  <li class="flex items-start gap-3">
                    <span class="text-green-600 text-xl">‚úì</span>
                    <span>Responsive design that adapts to all screen sizes</span>
                  </li>
                  <li class="flex items-start gap-3">
                    <span class="text-green-600 text-xl">‚úì</span>
                    <span>Fast mobile loading speed (under 3 seconds)</span>
                  </li>
                  <li class="flex items-start gap-3">
                    <span class="text-green-600 text-xl">‚úì</span>
                    <span>Readable text without zooming (minimum 16px font)</span>
                  </li>
                  <li class="flex items-start gap-3">
                    <span class="text-green-600 text-xl">‚úì</span>
                    <span>Tap targets at least 48x48px for easy clicking</span>
                  </li>
                  <li class="flex items-start gap-3">
                    <span class="text-green-600 text-xl">‚úì</span>
                    <span>No intrusive interstitials or pop-ups</span>
                  </li>
                  <li class="flex items-start gap-3">
                    <span class="text-green-600 text-xl">‚úì</span>
                    <span>Mobile-friendly navigation and forms</span>
                  </li>
                </ul>
              </div>
            </section>

            <!-- Case Study -->
            <section id="case-study" class="mt-12">
              <h2 class="text-3xl font-bold text-gray-900 mb-6">Real-World Results</h2>

              <p class="mb-8">
                Here's how we applied these technical SEO principles to achieve extraordinary results for one of our clients:
              </p>

              <CaseStudyCard
                title={caseStudy.title}
                excerpt={caseStudy.excerpt}
                logo={caseStudy.logo}
                logoAlt={caseStudy.logoAlt}
                metrics={caseStudy.metrics}
                link={caseStudy.link}
                industry={caseStudy.industry}
                service={caseStudy.service}
              />

              <div class="mt-8">
                <VideoTestimonialCard
                  videoUrl={videoTestimonial.videoUrl}
                  thumbnail={videoTestimonial.thumbnail}
                  author={videoTestimonial.author}
                  role={videoTestimonial.role}
                  quote={videoTestimonial.quote}
                />
              </div>
            </section>

            <!-- Conclusion -->
            <section id="conclusion" class="mt-12">
              <h2 class="text-3xl font-bold text-gray-900 mb-6">Conclusion & Next Steps</h2>

              <p>
                Technical SEO in 2025 requires a comprehensive approach covering Core Web Vitals, JavaScript rendering,
                structured data, and mobile optimization. The good news is that these improvements not only help your
                rankings but also create a better user experience.
              </p>

              <h3 class="text-2xl font-bold text-gray-900 mb-4 mt-8">Your Action Plan</h3>

              <ol class="space-y-3 mb-8">
                <li><strong>Run a Technical Audit:</strong> Use tools like Screaming Frog, Ahrefs, or Semrush</li>
                <li><strong>Prioritize Issues:</strong> Focus on high-impact problems first (Core Web Vitals, crawl errors)</li>
                <li><strong>Implement Fixes:</strong> Work through issues systematically</li>
                <li><strong>Monitor Progress:</strong> Track rankings, traffic, and Core Web Vitals monthly</li>
                <li><strong>Stay Updated:</strong> Google's algorithm changes frequently - keep learning</li>
              </ol>

              <div id="cta-form" class="bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl p-8 text-center my-12">
                <h3 class="text-2xl md:text-3xl font-bold text-white mb-4">
                  Need Help with Technical SEO?
                </h3>
                <p class="text-blue-100 text-lg mb-6">
                  Get a free comprehensive technical SEO audit and custom strategy session
                </p>
                <div class="flex flex-col sm:flex-row gap-4 justify-center">
                  <a
                    href="/contact"
                    class="px-8 py-4 bg-white text-blue-600 font-bold rounded-lg hover:bg-gray-100 transition-colors"
                  >
                    Get Your Free Audit
                  </a>
                  <a
                    href="tel:+61-123-456-789"
                    class="px-8 py-4 bg-transparent border-2 border-white text-white font-bold rounded-lg hover:bg-white hover:text-blue-600 transition-colors"
                  >
                    Call (61) 123-456-789
                  </a>
                </div>
              </div>
            </section>
          </div>
        </div>
      </div>
    </div>

    <!-- FAQ Section -->
    <div class="bg-gray-50">
      <div id="faq">
        <FAQWithSchema
          heading="Technical SEO FAQs"
          items={faqItems}
          generateSchema={true}
        />
      </div>
    </div>

    <!-- Related Posts -->
    <section class="py-16 md:py-20 bg-white">
      <div class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8">
        <h2 class="text-3xl font-bold text-gray-900 mb-8 text-center">Related Articles</h2>
        <div class="grid md:grid-cols-3 gap-8">
          <!-- Related Post 1 -->
          <a href="/blog/core-web-vitals-guide" class="group">
            <div class="bg-gray-100 rounded-lg overflow-hidden hover:shadow-xl transition-shadow">
              <div class="aspect-video bg-gradient-to-br from-blue-400 to-indigo-600"></div>
              <div class="p-6">
                <span class="text-sm text-blue-600 font-semibold">SEO</span>
                <h3 class="text-xl font-bold text-gray-900 mt-2 group-hover:text-blue-600">
                  Core Web Vitals: The Complete Guide
                </h3>
                <p class="text-gray-600 mt-2">Master LCP, FID, and CLS optimization...</p>
              </div>
            </div>
          </a>

          <!-- Related Post 2 -->
          <a href="/blog/javascript-seo-2025" class="group">
            <div class="bg-gray-100 rounded-lg overflow-hidden hover:shadow-xl transition-shadow">
              <div class="aspect-video bg-gradient-to-br from-purple-400 to-pink-600"></div>
              <div class="p-6">
                <span class="text-sm text-blue-600 font-semibold">SEO</span>
                <h3 class="text-xl font-bold text-gray-900 mt-2 group-hover:text-blue-600">
                  JavaScript SEO in 2025
                </h3>
                <p class="text-gray-600 mt-2">Optimize React, Vue, and Angular sites...</p>
              </div>
            </div>
          </a>

          <!-- Related Post 3 -->
          <a href="/blog/schema-markup-guide" class="group">
            <div class="bg-gray-100 rounded-lg overflow-hidden hover:shadow-xl transition-shadow">
              <div class="aspect-video bg-gradient-to-br from-green-400 to-teal-600"></div>
              <div class="p-6">
                <span class="text-sm text-blue-600 font-semibold">SEO</span>
                <h3 class="text-xl font-bold text-gray-900 mt-2 group-hover:text-blue-600">
                  Advanced Schema Markup Strategies
                </h3>
                <p class="text-gray-600 mt-2">Get rich snippets and featured snippets...</p>
              </div>
            </div>
          </a>
        </div>
      </div>
    </section>
  </article>

  <!-- Floating CTA -->
  <FloatingCTA buttons={floatingCTAs} />
</CleanLayout>

<style>
  html {
    scroll-behavior: smooth;
    scroll-padding-top: 120px;
  }

  /* Prose styling for blog content */
  .prose h2 {
    scroll-margin-top: 120px;
  }

  .prose h3 {
    scroll-margin-top: 120px;
  }

  .prose p {
    margin-bottom: 1.5rem;
  }

  .prose ul, .prose ol {
    margin-bottom: 1.5rem;
  }

  .prose li {
    margin-bottom: 0.5rem;
  }

  .lead {
    font-size: 1.25rem;
    line-height: 1.75;
  }
</style>