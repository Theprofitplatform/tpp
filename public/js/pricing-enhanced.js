class PricingPageEnhancer{constructor(){this.init()}init(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(()=>this.initializeComponents())):this.initializeComponents()}initializeComponents(){this.initAOSEnhanced(),this.initPricingCardInteractions(),this.initScrollEffects(),this.initPerformanceOptimizations(),this.initConversionTracking(),this.initAccessibilityEnhancements()}initAOSEnhanced(){"undefined"!=typeof AOS&&(AOS.init({duration:800,easing:"ease-out-cubic",once:!0,offset:120,delay:0,throttleDelay:99,debounceDelay:50,disable:function(){return window.innerWidth<768||window.matchMedia("(prefers-reduced-motion: reduce)").matches}}),console.log("âœ¨ Enhanced AOS animations initialized"))}initPricingCardInteractions(){document.querySelectorAll(".pricing-card-enhanced").forEach(((e,t)=>{e.addEventListener("mouseenter",(t=>{this.animateCard(t.target,"hover"),e.classList.contains("featured")||this.addParallaxEffect(e)})),e.addEventListener("mouseleave",(t=>{this.animateCard(t.target,"leave"),this.removeParallaxEffect(e)})),e.addEventListener("click",(e=>{e.target.closest("a")||this.createRippleEffect(e)}));const n=e.querySelector(".btn-pricing-enhanced");n&&(n.addEventListener("mouseenter",(()=>{this.animateButton(n,"hover")})),n.addEventListener("mouseleave",(()=>{this.animateButton(n,"leave")})))}))}animateCard(e,t){const n=e.querySelector(".pricing-icon"),i=e.querySelectorAll(".pricing-features-enhanced li");"hover"===t?(n&&(n.style.transform="scale(1.1) rotate(5deg)",n.style.transition="transform 0.3s cubic-bezier(0.4, 0, 0.2, 1)"),i.forEach(((e,t)=>{setTimeout((()=>{e.style.transform="translateX(8px)",e.style.transition="transform 0.2s ease-out"}),50*t)}))):(n&&(n.style.transform="scale(1) rotate(0deg)"),i.forEach((e=>{e.style.transform="translateX(0)"})))}animateButton(e,t){const n=e.querySelector("svg:last-child");n&&"hover"===t?(n.style.transform="translateX(4px)",n.style.transition="transform 0.2s ease-out"):n&&(n.style.transform="translateX(0)")}createRippleEffect(e){const t=e.currentTarget,n=document.createElement("div"),i=t.getBoundingClientRect(),r=Math.max(i.width,i.height);n.style.width=n.style.height=r+"px",n.style.left=e.clientX-i.left-r/2+"px",n.style.top=e.clientY-i.top-r/2+"px",n.style.position="absolute",n.style.borderRadius="50%",n.style.background="rgba(59, 130, 246, 0.1)",n.style.transform="scale(0)",n.style.animation="ripple 0.6s ease-out",n.style.pointerEvents="none",t.style.position="relative",t.appendChild(n),setTimeout((()=>{n.remove()}),600)}addParallaxEffect(e){const t=t=>{const n=e.getBoundingClientRect(),i=t.clientX-n.left,r=t.clientY-n.top,a=n.width/2,o=(r-n.height/2)/20,c=(a-i)/20;e.style.transform=`perspective(1000px) rotateX(${o}deg) rotateY(${c}deg) translateZ(0)`};e.addEventListener("mousemove",t),e._handleMouseMove=t}removeParallaxEffect(e){e._handleMouseMove&&(e.removeEventListener("mousemove",e._handleMouseMove),e.style.transform="")}initScrollEffects(){const e=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&this.handleElementInView(e.target,e.intersectionRatio)}))}),{threshold:[.1,.5,.9],rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".pricing-card-enhanced, .hero-content-enhanced, .trust-indicators").forEach((t=>{e.observe(t)})),this.initSmoothScrolling()}handleElementInView(e,t){e.classList.contains("pricing-card-enhanced")&&t>.5&&(e.style.animation="slideUpFade 0.8s ease-out forwards")}initSmoothScrolling(){document.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth",block:"start"})}))}))}initPerformanceOptimizations(){this.lazyLoadElements(),this.optimizeForLowEndDevices(),this.prefetchContactPage()}lazyLoadElements(){const e=document.querySelectorAll("[data-lazy]"),t=new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){const n=e.target;n.style.opacity="1",n.style.transform="translateY(0)",t.unobserve(n)}}))}));e.forEach((e=>{e.style.opacity="0",e.style.transform="translateY(20px)",e.style.transition="opacity 0.6s ease, transform 0.6s ease",t.observe(e)}))}optimizeForLowEndDevices(){(navigator.hardwareConcurrency<4||navigator.deviceMemory<4||window.innerWidth<768)&&(document.documentElement.style.setProperty("--animation-duration","0.3s"),document.querySelectorAll(".pricing-card-enhanced").forEach((e=>{e.style.willChange="auto"})))}prefetchContactPage(){document.querySelectorAll('a[href*="contact"]').forEach((e=>{e.addEventListener("mouseenter",(()=>{if(!e._prefetched){const t=document.createElement("link");t.rel="prefetch",t.href=e.href,document.head.appendChild(t),e._prefetched=!0}}))}))}initConversionTracking(){document.querySelectorAll(".btn-pricing-enhanced").forEach((e=>{e.addEventListener("click",(e=>{const t=e.target.closest(".pricing-card-enhanced"),n=t.querySelector(".pricing-title-enhanced").textContent;this.trackEvent("pricing_cta_click",{package:n,position:Array.from(t.parentNode.children).indexOf(t)+1})}))})),this.trackScrollDepth()}trackEvent(e,t){"undefined"!=typeof gtag&&gtag("event",e,t),console.log("ðŸ“Š Event tracked:",e,t)}trackScrollDepth(){const e=[25,50,75,100];let t=[];window.addEventListener("scroll",throttle((()=>{const n=Math.round(window.scrollY/(document.documentElement.scrollHeight-window.innerHeight)*100);e.forEach((e=>{n>=e&&!t.includes(e)&&(t.push(e),this.trackEvent("scroll_depth",{depth:e}))}))}),500))}initAccessibilityEnhancements(){this.enhanceKeyboardNavigation(),this.enhanceARIA(),this.manageFocus()}enhanceKeyboardNavigation(){document.addEventListener("keydown",(e=>{"Escape"===e.key&&document.querySelectorAll(".modal, .overlay").forEach((e=>{e.style.display="none"}))}))}enhanceARIA(){document.querySelectorAll(".pricing-card-enhanced").forEach(((e,t)=>{const n=e.querySelector(".pricing-title-enhanced").textContent,i=e.querySelector(".pricing-price-enhanced").textContent;e.setAttribute("aria-label",`${n} package for ${i} per month`),e.setAttribute("role","article")}))}manageFocus(){document.querySelectorAll("button, a, input, [tabindex]").forEach((e=>{e.addEventListener("focus",(()=>{e.style.outline="2px solid #3b82f6",e.style.outlineOffset="2px"})),e.addEventListener("blur",(()=>{e.style.outline="",e.style.outlineOffset=""}))}))}}function throttle(e,t){let n;return function(...i){clearTimeout(n),n=setTimeout((()=>{clearTimeout(n),e(...i)}),t)}}const style=document.createElement("style");style.textContent="\n    @keyframes ripple {\n        to {\n            transform: scale(2);\n            opacity: 0;\n        }\n    }\n\n    @keyframes slideUpFade {\n        from {\n            opacity: 0;\n            transform: translateY(30px);\n        }\n        to {\n            opacity: 1;\n            transform: translateY(0);\n        }\n    }\n\n    .pricing-card-enhanced {\n        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .pricing-card-enhanced:focus-within {\n        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.5);\n    }\n",document.head.appendChild(style),new PricingPageEnhancer,console.log("ðŸš€ Enhanced pricing page JavaScript loaded successfully");