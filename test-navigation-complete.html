<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Navigation Fixes - Complete Test Suite</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="css/modern-theme-variables.css">
    <link rel="stylesheet" href="css/navigation.css">
    <link rel="stylesheet" href="css/navigation-dropdown-fix.css">
    <link rel="stylesheet" href="css/navigation-contact-page-fix.css">
    <style>
        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        .test-content {
            margin-top: 120px;
            padding: 40px;
            background: white;
            border-radius: 20px;
            max-width: 1000px;
            margin-left: auto;
            margin-right: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
        }

        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .test-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid #28a745;
            transition: all 0.3s ease;
        }

        .test-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .test-card h3 {
            margin-top: 0;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .test-card p {
            color: #6c757d;
            line-height: 1.6;
        }

        .status-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: #28a745;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
        }

        .test-links {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 30px;
        }

        .test-link {
            padding: 10px 20px;
            background: #007bff;
            color: white;
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .test-link:hover {
            background: #0056b3;
            transform: translateY(-2px);
        }

        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #007bff;
            padding-bottom: 10px;
        }

        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 14px;
            overflow-x: auto;
            margin: 15px 0;
        }

        .highlight {
            background: #ffeb3b33;
            padding: 2px 4px;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <!-- Dynamic Navigation Loader -->
    <script src="js/components/navigation-inline.js" defer></script>

    <!-- Navigation will be dynamically loaded here -->

    <div class="test-content">
        <h1>🚀 Navigation System - Complete Test Suite</h1>
        <p>This comprehensive test page verifies all navigation fixes and improvements.</p>

        <div class="test-grid">
            <div class="test-card">
                <h3>
                    <span class="status-icon">✓</span>
                    Logo Path Resolution
                </h3>
                <p><strong>Fix Applied:</strong> Dynamic path resolution based on page location</p>
                <p><strong>Files Updated:</strong></p>
                <ul>
                    <li>js/components/navigation-inline.js</li>
                </ul>
                <p>The logo now uses relative paths that work on all pages including About and Pricing.</p>
            </div>

            <div class="test-card">
                <h3>
                    <span class="status-icon">✓</span>
                    Dropdown Hover Delay
                </h3>
                <p><strong>Fix Applied:</strong> 300ms delay before closing dropdown on mouse leave</p>
                <p><strong>Implementation:</strong></p>
                <div class="code-block">clearTimeout(closeTimeout);
closeTimeout = setTimeout(() => {
    this.closeDropdown(dropdown);
}, 300);</div>
                <p>Prevents accidental closure when moving between trigger and menu.</p>
            </div>

            <div class="test-card">
                <h3>
                    <span class="status-icon">✓</span>
                    Contact Hover Stabilization
                </h3>
                <p><strong>Fix Applied:</strong> Isolation and z-index layering for Contact nav item</p>
                <p><strong>CSS Properties:</strong></p>
                <ul>
                    <li>isolation: isolate</li>
                    <li>Increased spacing (30px margins)</li>
                    <li>Pointer-events: none on decorative elements</li>
                </ul>
            </div>

            <div class="test-card">
                <h3>
                    <span class="status-icon">✓</span>
                    Page-Specific Targeting
                </h3>
                <p><strong>Fix Applied:</strong> Body data-page attribute for CSS targeting</p>
                <p><strong>Example:</strong></p>
                <div class="code-block">body[data-page="contact"] .nav-item[data-page="contact"] {
    z-index: 15 !important;
}</div>
                <p>Enables page-specific styling for active states.</p>
            </div>

            <div class="test-card">
                <h3>
                    <span class="status-icon">✓</span>
                    Invisible Bridge
                </h3>
                <p><strong>Fix Applied:</strong> Pseudo-element creates hover bridge</p>
                <p><strong>CSS:</strong></p>
                <div class="code-block">.nav-dropdown::after {
    content: '';
    height: 15px;
    pointer-events: auto;
}</div>
                <p>Maintains hover state between trigger and dropdown.</p>
            </div>

            <div class="test-card">
                <h3>
                    <span class="status-icon">✓</span>
                    Smart Dropdown Positioning
                </h3>
                <p><strong>Fix Applied:</strong> Viewport edge detection</p>
                <p><strong>Logic:</strong></p>
                <ul>
                    <li>Checks if dropdown would overflow viewport</li>
                    <li>Adjusts position to stay visible</li>
                    <li>Maintains centered position when possible</li>
                </ul>
            </div>
        </div>

        <h2>📋 Test Pages</h2>
        <p>Click through these pages to verify the navigation works consistently:</p>

        <div class="test-links">
            <a href="index.html" class="test-link">Homepage</a>
            <a href="about.html" class="test-link">About Page</a>
            <a href="pricing.html" class="test-link">Pricing Page</a>
            <a href="portfolio.html" class="test-link">Portfolio Page</a>
            <a href="contact.html" class="test-link">Contact Page</a>
            <a href="services.html" class="test-link">Services Page</a>
        </div>

        <h2>✅ Verification Checklist</h2>
        <ol>
            <li><strong>Logo Visibility:</strong> Check that the logo appears on all pages (especially About and Pricing)</li>
            <li><strong>Dropdown Behavior:</strong> Hover over Services and move to dropdown items - menu should stay open</li>
            <li><strong>Contact Hover:</strong> On Portfolio and Contact pages, hover over Contact nav item - no flickering with CTA button</li>
            <li><strong>Mobile Menu:</strong> Resize browser to mobile width and test hamburger menu</li>
            <li><strong>Active States:</strong> Verify current page is highlighted in navigation</li>
            <li><strong>CTA Stability:</strong> "Let's Chat" button should not move when hovering nearby items</li>
        </ol>

        <h2>🔧 Files Modified</h2>
        <ul>
            <li><span class="highlight">js/components/navigation-inline.js</span> - Core navigation logic with path resolution</li>
            <li><span class="highlight">css/navigation-dropdown-fix.css</span> - Dropdown and hover fixes</li>
            <li><span class="highlight">css/navigation-contact-page-fix.css</span> - Page-specific hover stabilization</li>
            <li><span class="highlight">All HTML pages</span> - Updated to include navigation-contact-page-fix.css</li>
        </ul>
    </div>

    <script>
        // Test script to verify navigation functionality
        window.addEventListener('load', function() {
            console.log('🧪 Navigation Test Suite Loaded');

            // Automated tests after navigation loads
            setTimeout(() => {
                const tests = [];

                // Test 1: Logo presence
                const logo = document.querySelector('.logo-img');
                tests.push({
                    name: 'Logo Image',
                    passed: logo && logo.src.includes('logo'),
                    details: logo ? `Source: ${logo.src}` : 'Logo not found'
                });

                // Test 2: Dropdown presence
                const dropdown = document.querySelector('.nav-dropdown');
                tests.push({
                    name: 'Dropdown Menu',
                    passed: !!dropdown,
                    details: dropdown ? 'Services dropdown found' : 'Dropdown not found'
                });

                // Test 3: Contact nav item
                const contactNav = document.querySelector('[data-page="contact"]');
                tests.push({
                    name: 'Contact Nav Item',
                    passed: !!contactNav,
                    details: contactNav ? 'Contact link found' : 'Contact link not found'
                });

                // Test 4: CTA button
                const ctaButton = document.querySelector('.premium-cta-btn');
                tests.push({
                    name: 'CTA Button',
                    passed: !!ctaButton,
                    details: ctaButton ? 'Let\'s Chat button found' : 'CTA button not found'
                });

                // Test 5: Body data-page attribute
                const bodyDataPage = document.body.getAttribute('data-page');
                tests.push({
                    name: 'Page Identification',
                    passed: !!bodyDataPage,
                    details: bodyDataPage ? `Current page: ${bodyDataPage}` : 'No page attribute'
                });

                // Output results
                console.group('Navigation Test Results');
                tests.forEach(test => {
                    const icon = test.passed ? '✅' : '❌';
                    console.log(`${icon} ${test.name}: ${test.details}`);
                });
                console.groupEnd();

                // Summary
                const passedTests = tests.filter(t => t.passed).length;
                const totalTests = tests.length;
                console.log(`\n📊 Test Summary: ${passedTests}/${totalTests} tests passed`);
            }, 1500);
        });
    </script>
</body>
</html>