# TPP Automation System - Architecture Diagram

> **Visual representation of all automations and data flows**

---

## ğŸ—ï¸ Complete System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          GITHUB ACTIONS (Cloud)                         â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Daily Blog Post â”‚  â”‚      Deploy      â”‚  â”‚   Health Check     â”‚   â”‚
â”‚  â”‚                  â”‚  â”‚                  â”‚  â”‚    (Weekly) â­      â”‚   â”‚
â”‚  â”‚  Mon/Thu 9 AM    â”‚  â”‚  On push/main    â”‚  â”‚   Mon 9 AM UTC     â”‚   â”‚
â”‚  â”‚                  â”‚  â”‚                  â”‚  â”‚                    â”‚   â”‚
â”‚  â”‚  â€¢ Generate      â”‚  â”‚  â€¢ Build site    â”‚  â”‚  â€¢ Check GitHub    â”‚   â”‚
â”‚  â”‚  â€¢ Validate      â”‚  â”‚  â€¢ Deploy dist/  â”‚  â”‚  â€¢ Check topics    â”‚   â”‚
â”‚  â”‚  â€¢ Commit        â”‚  â”‚  â€¢ Run tests     â”‚  â”‚  â€¢ Check website   â”‚   â”‚
â”‚  â”‚  â€¢ Notify        â”‚  â”‚  â€¢ Comment PR    â”‚  â”‚  â€¢ Ping HC.io      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚  â”‚  Lighthouse CI   â”‚  â”‚   PR Automation  â”‚                           â”‚
â”‚  â”‚                  â”‚  â”‚                  â”‚                           â”‚
â”‚  â”‚  On push/PR      â”‚  â”‚  On PR/comment   â”‚                           â”‚
â”‚  â”‚                  â”‚  â”‚                  â”‚                           â”‚
â”‚  â”‚  â€¢ Audit 5 pages â”‚  â”‚  â€¢ /swarm review â”‚                           â”‚
â”‚  â”‚  â€¢ Post scores   â”‚  â”‚  â€¢ /swarm test   â”‚                           â”‚
â”‚  â”‚  â€¢ Track history â”‚  â”‚  â€¢ /swarm docs   â”‚                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                                                                         â”‚
â”‚  Environment: Ubuntu Latest                                            â”‚
â”‚  Secrets: CLAUDE_API_KEY, CLOUDFLARE_API_TOKEN, HEALTHCHECK_PING_URL  â”‚
â”‚  Artifacts: Health reports, test results, Lighthouse scores            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â”‚ git commits
                                  â”‚ deployments
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         GITHUB REPOSITORY                               â”‚
â”‚                      github.com/YOUR-USER/tpp                           â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Source Code                                                    â”‚   â”‚
â”‚  â”‚  â€¢ src/pages/            (Astro pages)                          â”‚   â”‚
â”‚  â”‚  â€¢ src/components/       (React components)                     â”‚   â”‚
â”‚  â”‚  â€¢ src/content/blog/     (Blog posts - auto-generated)          â”‚   â”‚
â”‚  â”‚  â€¢ automation/           (Scripts & config)                     â”‚   â”‚
â”‚  â”‚  â€¢ .github/workflows/    (GitHub Actions)                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Automation Data                                                â”‚   â”‚
â”‚  â”‚  â€¢ automation/topic-queue.json       (22 topics)                â”‚   â”‚
â”‚  â”‚  â€¢ automation/internal-link-map.json (SEO links)                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â”‚ git pull
                                  â”‚ rsync (optional)
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      VPS (tpp-vps server)                               â”‚
â”‚                   /home/avi/projects/tpp                                â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  CRON JOBS (Scheduled Tasks)                                    â”‚   â”‚
â”‚  â”‚                                                                 â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚   â”‚
â”‚  â”‚  â”‚ Topic Auto-Refill  â”‚  â”‚ Topic Health Check â”‚                â”‚   â”‚
â”‚  â”‚  â”‚ Monthly 1st @ 2 AM â”‚  â”‚ Weekly Mon @ 8 AM  â”‚                â”‚   â”‚
â”‚  â”‚  â”‚                    â”‚  â”‚                    â”‚                â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Generate 25-30   â”‚  â”‚ â€¢ Count pending    â”‚                â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Claude AI        â”‚  â”‚ â€¢ Alert if < 10    â”‚                â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Balanced cats    â”‚  â”‚ â€¢ List next 10     â”‚                â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚   â”‚
â”‚  â”‚                                                                 â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚   â”‚
â”‚  â”‚  â”‚  SEO Monitoring    â”‚  â”‚  Instagram Bot     â”‚                â”‚   â”‚
â”‚  â”‚  â”‚  Weekly Mon @ 9 AM â”‚  â”‚  3x daily          â”‚                â”‚   â”‚
â”‚  â”‚  â”‚                    â”‚  â”‚  7 AM, 12 PM, 6 PM â”‚                â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ npm run monitor  â”‚  â”‚                    â”‚                â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ npm run report   â”‚  â”‚ â€¢ Auto-post        â”‚                â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â€¢ Engage           â”‚                â”‚   â”‚
â”‚  â”‚                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚   â”‚
â”‚  â”‚  â”‚  Database Backups  â”‚  â”‚ Backup Monitoring  â”‚                â”‚   â”‚
â”‚  â”‚  â”‚  Daily @ 2:30 AM   â”‚  â”‚ Every 6 hours      â”‚                â”‚   â”‚
â”‚  â”‚  â”‚                    â”‚  â”‚                    â”‚                â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Supabase backup  â”‚  â”‚ â€¢ Verify backups   â”‚                â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ Verify @ 3 AM    â”‚  â”‚ â€¢ Alert on fail    â”‚                â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚   â”‚
â”‚  â”‚                                                                 â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  (Optional)                            â”‚   â”‚
â”‚  â”‚  â”‚  Health Check      â”‚  Deployed via:                         â”‚   â”‚
â”‚  â”‚  â”‚  Weekly Mon @ 9 AM â”‚  npm run deploy-to-vps.sh              â”‚   â”‚
â”‚  â”‚  â”‚                    â”‚                                         â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ ./health-check-  â”‚                                         â”‚   â”‚
â”‚  â”‚  â”‚   with-ping.sh     â”‚                                         â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â”‚  Environment: Ubuntu 22.04                                              â”‚
â”‚  Dependencies: jq, curl, Node.js, Claude API                            â”‚
â”‚  Logs: /tmp/tpp-health.log, /var/log/syslog                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â”‚ Content deployed from GitHub
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        CLOUDFLARE PAGES                                 â”‚
â”‚                   theprofitplatform.com.au                              â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Production Website                                             â”‚   â”‚
â”‚  â”‚  â€¢ Static HTML/CSS/JS (from dist/)                              â”‚   â”‚
â”‚  â”‚  â€¢ Astro 5.x build output                                       â”‚   â”‚
â”‚  â”‚  â€¢ Optimized assets                                             â”‚   â”‚
â”‚  â”‚  â€¢ Schema.org markup                                            â”‚   â”‚
â”‚  â”‚  â€¢ Blog posts (auto-generated)                                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Cloudflare Features                                            â”‚   â”‚
â”‚  â”‚  â€¢ Global CDN (edge caching)                                    â”‚   â”‚
â”‚  â”‚  â€¢ Auto HTTPS                                                   â”‚   â”‚
â”‚  â”‚  â€¢ Headers: dist/_headers                                       â”‚   â”‚
â”‚  â”‚  â€¢ Routing: dist/_routes.json                                   â”‚   â”‚
â”‚  â”‚  â€¢ Preview deployments                                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â”‚ monitored by
                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        HEALTHCHECKS.IO â­                               â”‚
â”‚                    https://healthchecks.io                              â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Monitoring Dashboard                                           â”‚   â”‚
â”‚  â”‚  â€¢ Check: "TPP Health Monitor"                                  â”‚   â”‚
â”‚  â”‚  â€¢ Schedule: Weekly (every 7 days)                              â”‚   â”‚
â”‚  â”‚  â€¢ Ping URL: https://hc-ping.com/xxx-xxx-xxx                    â”‚   â”‚
â”‚  â”‚  â€¢ Status: âœ… Up / âŒ Down                                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Notifications                                                  â”‚   â”‚
â”‚  â”‚  â€¢ Email: you@example.com                                       â”‚   â”‚
â”‚  â”‚  â€¢ Slack: #automation-alerts (optional)                         â”‚   â”‚
â”‚  â”‚  â€¢ Discord, Telegram, etc. (optional)                           â”‚   â”‚
â”‚  â”‚                                                                 â”‚   â”‚
â”‚  â”‚  Alerts sent when:                                              â”‚   â”‚
â”‚  â”‚  â€¢ Check reports failure                                        â”‚   â”‚
â”‚  â”‚  â€¢ Check doesn't run (dead-man switch)                          â”‚   â”‚
â”‚  â”‚  â€¢ Check is late                                                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  History & Logs                                                 â”‚   â”‚
â”‚  â”‚  â€¢ Last 30 days of pings                                        â”‚   â”‚
â”‚  â”‚  â€¢ Uptime percentage                                            â”‚   â”‚
â”‚  â”‚  â€¢ Response time graphs                                         â”‚   â”‚
â”‚  â”‚  â€¢ Incident timeline                                            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Data Flow Diagram

### Blog Post Generation Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GitHub       â”‚
â”‚ Actions      â”‚
â”‚ (Mon/Thu 9AM)â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Fetch topic from topic-queue.jsonâ”‚
â”‚    Status: "pending"                 â”‚
â”‚    Priority: Highest first           â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. Generate post with Claude AI      â”‚
â”‚    Model: Sonnet 4                   â”‚
â”‚    Length: 2,500-3,500 words         â”‚
â”‚    Format: Markdown                  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. Build internal link map           â”‚
â”‚    Scan existing posts               â”‚
â”‚    Find related topics               â”‚
â”‚    Add contextual links              â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. Post-process & optimize           â”‚
â”‚    Add table of contents             â”‚
â”‚    Optimize heading hierarchy        â”‚
â”‚    Format code blocks                â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. Validate content                  â”‚
â”‚    âœ“ Word count >= 2,500             â”‚
â”‚    âœ“ Frontmatter complete            â”‚
â”‚    âœ“ Headings H2-H6 only             â”‚
â”‚    âœ“ Internal links present          â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. Plagiarism check (optional)       â”‚
â”‚    Copyscape API                     â”‚
â”‚    Threshold: 95% unique             â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 7. Commit to repository              â”‚
â”‚    File: src/content/blog/YYYY-MM... â”‚
â”‚    Update: topic-queue.json status   â”‚
â”‚    Message: "Add blog post: Title"   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 8. Send notifications                â”‚
â”‚    Email: Success/failure            â”‚
â”‚    Slack: Link to post (optional)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Health Check Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Trigger      â”‚
â”‚ â€¢ GitHub     â”‚
â”‚ â€¢ VPS cron   â”‚
â”‚ â€¢ Manual     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Health Check Script                     â”‚
â”‚ ./scripts/simple-health-check.sh        â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€â†’ Check GitHub Actions
       â”‚   â€¢ gh run list --limit 20
       â”‚   â€¢ Count failures
       â”‚   â€¢ âœ… 0 failures = good
       â”‚   â€¢ âš ï¸  1-2 failures = warning
       â”‚   â€¢ âŒ 3+ failures = error
       â”‚
       â”œâ”€â†’ Check Topic Queue
       â”‚   â€¢ jq .queue | length
       â”‚   â€¢ âœ… >= 15 topics = healthy
       â”‚   â€¢ âš ï¸  10-14 topics = ok
       â”‚   â€¢ âŒ < 10 topics = critical
       â”‚
       â”œâ”€â†’ Check Website
       â”‚   â€¢ curl -I theprofitplatform.com.au
       â”‚   â€¢ âœ… 200 OK = good
       â”‚   â€¢ âŒ Other = error
       â”‚   â€¢ Response time < 2s = good
       â”‚
       â”œâ”€â†’ Check VPS (optional)
       â”‚   â€¢ ssh avi@vps 'echo ok'
       â”‚   â€¢ Check cron service
       â”‚   â€¢ Check disk usage
       â”‚   â€¢ âœ… < 80% = good
       â”‚   â€¢ âš ï¸  80-90% = warning
       â”‚   â€¢ âŒ > 90% = critical
       â”‚
       â””â”€â†’ Generate Report
           â€¢ Summary: X errors, Y warnings
           â€¢ Details: Per-check results
           â€¢ Exit code: 0 = success, 1 = failure
           â”‚
           â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚ Ping Healthchecks.io    â”‚
       â”‚ â€¢ Success: /ping/uuid   â”‚
       â”‚ â€¢ Failure: /ping/uuid/fail
       â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚ Healthchecks.io Decides â”‚
       â”‚ â€¢ All good: No alert    â”‚
       â”‚ â€¢ Problem: Send email   â”‚
       â”‚ â€¢ Missed: Send email    â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Automation Lifecycle

### New Topic â†’ Published Post â†’ Website

```
Day 1: Topic Auto-Refill (Monthly)
â”‚
â”œâ”€â†’ VPS Cron: 1st @ 2:00 AM
â”‚   â”œâ”€ npm run topics:generate 30
â”‚   â”œâ”€ Claude AI generates 25-30 topics
â”‚   â”œâ”€ Balanced across categories
â”‚   â””â”€ Append to topic-queue.json
â”‚
â””â”€â†’ Result: 25-30 new "pending" topics

Day 7: Blog Post Generation (Mon/Thu)
â”‚
â”œâ”€â†’ GitHub Actions: Mon @ 9:00 AM UTC
â”‚   â”œâ”€ Pick highest priority "pending" topic
â”‚   â”œâ”€ Generate 2,500-3,500 word post
â”‚   â”œâ”€ Validate content quality
â”‚   â”œâ”€ Commit to src/content/blog/
â”‚   â””â”€ Update topic status â†’ "completed"
â”‚
â””â”€â†’ Result: New blog post in repository

Day 7: Automatic Deployment
â”‚
â”œâ”€â†’ GitHub Actions: On commit (immediately after)
â”‚   â”œâ”€ Trigger deploy.yml workflow
â”‚   â”œâ”€ Build Astro site
â”‚   â”œâ”€ Run Playwright tests
â”‚   â”œâ”€ Deploy to Cloudflare Pages
â”‚   â””â”€ Run Lighthouse audit
â”‚
â””â”€â†’ Result: Blog post live on theprofitplatform.com.au

Day 8: Health Check (Weekly)
â”‚
â”œâ”€â†’ GitHub Actions: Next Mon @ 9:00 AM UTC
â”‚   â”œâ”€ Check all automations
â”‚   â”œâ”€ Verify blog post published
â”‚   â”œâ”€ Check topic queue (still healthy?)
â”‚   â”œâ”€ Ping Healthchecks.io
â”‚   â””â”€ Send email if issues
â”‚
â””â”€â†’ Result: Weekly health report email
```

---

## ğŸ›¡ï¸ Reliability & Redundancy

### Multiple Monitoring Layers

```
Layer 1: Self-Monitoring
â”œâ”€ GitHub Actions (weekly health check)
â”œâ”€ VPS Cron (weekly topic check)
â””â”€ Manual: npm run health

Layer 2: External Monitoring
â”œâ”€ Healthchecks.io (dead-man switch)
â”œâ”€ Cloudflare (uptime monitoring)
â””â”€ Google Search Console (index status)

Layer 3: Alerts
â”œâ”€ Email (via Healthchecks.io)
â”œâ”€ Slack (optional webhook)
â”œâ”€ GitHub Issues (on failure)
â””â”€ Dashboard (Healthchecks.io UI)
```

### Failure Recovery

```
Automation Fails
    â”‚
    â”œâ”€â†’ GitHub Actions sends notification
    â”‚   â””â”€ Creates GitHub issue with details
    â”‚
    â”œâ”€â†’ Healthchecks.io sends email
    â”‚   â””â”€ "Check has failed" alert
    â”‚
    â””â”€â†’ Manual intervention
        â”œâ”€ Review GitHub Actions logs
        â”œâ”€ Check error details
        â”œâ”€ Fix issue
        â””â”€ Re-run workflow (gh run rerun)
```

---

## ğŸ“ˆ Scaling Paths

### Current (13 automations)
```
Capacity: 13 active systems
Frequency: Daily to monthly
Monitoring: Weekly health checks
Maintenance: Zero (automated)
Cost: $0/month
```

### Phase 1: Add CLI Tool (if needed)
```
+ Terminal interface
+ Manual triggers
+ Enhanced logging
Time to build: 1-2 days
Maintenance: Low
```

### Phase 2: Add Web Dashboard (if needed)
```
+ Real-time web UI
+ Historical metrics
+ Custom alerts
Time to build: 3-5 days
Maintenance: Medium
```

### Phase 3: Enterprise Features (if needed)
```
+ AI insights
+ Predictive analytics
+ Mobile app
Time to build: 1-2 weeks
Maintenance: High
```

---

## ğŸ”‘ Key Design Principles

1. **Simple Over Complex**
   - 30-second health check > 20-hour dashboard
   - Bash script > Custom infrastructure

2. **Automated Setup**
   - One command: `npm run health:quick-setup`
   - No manual configuration
   - Guided prompts

3. **Zero Maintenance**
   - Works without intervention
   - Self-healing where possible
   - Alert only on real issues

4. **Use Existing Tools**
   - GitHub Actions (already have)
   - Healthchecks.io (free service)
   - Cloudflare (already using)

5. **Data-Driven Decisions**
   - Measure before building
   - Collect 1 month of data
   - Build only if needed

---

**This architecture enables**:
- âœ… 13 automations running 24/7
- âœ… 2-minute setup time
- âœ… Zero ongoing maintenance
- âœ… Complete visibility
- âœ… $0 monthly cost

See [AUTOMATED-SETUP.md](AUTOMATED-SETUP.md) to get started.
